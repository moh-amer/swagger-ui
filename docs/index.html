<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>jsonn</title>
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/swagger-ui-dist@3.12.1/swagger-ui.css">


</head>
<body>

<div id="swagger-ui"></div>

<script src="https://unpkg.com/swagger-ui-dist@3.12.1/swagger-ui-standalone-preset.js"></script>
<script src="https://unpkg.com/swagger-ui-dist@3.12.1/swagger-ui-bundle.js"></script>

<script>

    window.onload = function() {
        // Build a system
        // extract keyword(stage , service , api , )
        let pathname = window.location.pathname;
        let path_arr = pathname.split("/").filter((str) => str !== '');

         let custom_urls =  [{ url: "json/api.json", name: "Apigee Proxy [Apigee Products]" },
                      { url: "json/product.json", name: "Apigee Products" },
                  ];

        if (path_arr[1] == "test"){
            customr_urls.push({ url: "json/service.json", name: "Apigee Services" })
        }
        const ui = SwaggerUIBundle({
            url: "https://petstore.swagger.io/v2/swagger.json",
            dom_id: '#swagger-ui',
            deepLinking: true,
            presets: [
                SwaggerUIBundle.presets.apis,
                SwaggerUIStandalonePreset
            ],
            plugins: [
                SwaggerUIBundle.plugins.DownloadUrl
            ],
            layout: "StandaloneLayout",
            urls: custom_urls,
        })
        window.ui = ui
        
    }

    console.log(window.location.pathname);
</script>
</body>
</html>
